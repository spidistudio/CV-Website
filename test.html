<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jumping Emoji Confetti</title>
    <style>
        /* Center content */
        body, html {
            height: 100%;
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            font-family: Arial, sans-serif;
            overflow: hidden; /* Prevents scrollbars */
        }

        /* Paragraph container */
        #content {
            text-align: center;
        }

        /* Emoji container (covers the whole viewport without affecting layout) */
        #emoji-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            pointer-events: none;
            overflow: hidden;
        }

        /* Hover words */
        .hover-word {
            position: relative;
            cursor: pointer;
            color: blue;
            text-decoration: underline;
        }

        /* Emoji confetti styles */
        .emoji-confetti {
            font-size: 1.5rem;
            position: absolute;
            opacity: 0;
            transition: transform 0.3s ease-out, opacity 0.3s ease-out; /* Initial jump effect */
        }

        /* Fade-in class */
        .fade-in {
            opacity: 1;
        }
    </style>
</head>
<body>
    <div id="content">
        <p>
            Hover over this <span class="hover-word">word</span> or this <span class="hover-word">word</span> to see the emoji confetti!
        </p>
        <div id="emoji-container"></div>
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", function() {
            document.querySelectorAll('.hover-word').forEach(word => {
                word.addEventListener('mouseenter', () => {
                    createEmojiConfetti(word);
                });
            });
        });

        function createEmojiConfetti(element) {
            const emojiContainer = document.getElementById('emoji-container');
            if (!emojiContainer) {
                console.error("Emoji container not found in the DOM.");
                return;
            }

            // Create the emoji element
            const emoji = document.createElement('div');
            emoji.innerText = 'ðŸŽ‰';
            emoji.classList.add('emoji-confetti');

            // Position the emoji near the word
            const { top, left, width } = element.getBoundingClientRect();
            emoji.style.top = `${top + window.scrollY}px`; // Adjust based on scroll position
            emoji.style.left = `${left + width / 2}px`;

            // Append the emoji to the container
            emojiContainer.appendChild(emoji);

            // Trigger the initial jump effect
            setTimeout(() => {
                emoji.classList.add('fade-in');
                emoji.style.transform = 'translate(-60px, -60px)'; // Jump up to the left
            }, 50);

            // After the jump, animate the fall
            setTimeout(() => {
                animateEmoji(emoji, left + width / 2 - 80); // Pass the new x position
            }, 350); // Delay to let the jump animation finish
        }

        function animateEmoji(emoji, finalX) {
            let startY = parseInt(emoji.style.top) - 80; // Adjust for jump height
            let animationDuration = 1000;
            let maxFallDistance = 400;
            let start = null;

            function step(timestamp) {
                if (!start) start = timestamp;
                let progress = timestamp - start;

                let percentage = progress / animationDuration;
                let yOffset = startY + (percentage * maxFallDistance);
                let opacity = 1 - percentage;

                // Keep x position at finalX
                emoji.style.transform = `translate(${finalX - parseInt(emoji.style.left)}px, ${yOffset - startY}px)`;
                emoji.style.opacity = opacity;

                if (progress < animationDuration) {
                    requestAnimationFrame(step);
                } else {
                    emoji.remove();
                }
            }

            requestAnimationFrame(step);
        }
    </script>
</body>
</html>
